<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>4.6.&nbsp;Sequences</title><link rel="stylesheet" type="text/css" href="../css/guides.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="perfcake-user-guide.html" title="PerfCake 7.x"><link rel="up" href="ug.reference-guide.html" title="Chapter&nbsp;4.&nbsp;Reference Guide"><link rel="prev" href="ug.reference-guide.messages.html" title="4.5.&nbsp;What - Messages"><link rel="next" href="ug.reference-guide.reporting.html" title="4.7.&nbsp;Reporting"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.6.&nbsp;Sequences</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ug.reference-guide.messages.html">Prev</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;4.&nbsp;Reference Guide</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ug.reference-guide.reporting.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ug.reference-guide.sequences"></a>4.6.&nbsp;Sequences</h2></div></div></div><p>Sequences are used to create a sequence of values that change for each sent message set (a
    set of messages are all the messages specified in a single scenario). Whenever a message set is
    to be sent, a current snapshot of all sequences is created. Then the values are replaced in the
    message template and are also passed to <code class="code">MessageSender.preSend()</code> method in
      <code class="code">messageAttributes</code>. The property names/keys correspond to the configured sequence
      <code class="code">id</code>. </p><p>We suggest to configure your sequence ids with a unique prefix (like
      <span class="emphasis"><em>seq.</em></span>) to avoid possible conflicts with another properties.</p><p>Possible usages of sequences are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>in the message templates to make each message unique or to make it route through a
          different path,</p></li><li class="listitem"><p>to influence the behaviour of a message sender which can decide based on the
          sequence's current value (values can for example cycle over a few different
          values),</p></li><li class="listitem"><p>to send the messages to different targets, supposing the message sender does not cache
          connections and uses <code class="code">AbstractSender.getSafeTarget()</code> when openning a new
          connection.</p></li></ul></div><div class="example"><a name="d0e5038"></a><p class="title"><b>Example&nbsp;4.32.&nbsp;An example of a Sequence configuration</b></p><div class="example-contents"><pre class="programlisting">&nbsp;&nbsp;1    <span class="hl-tag">&lt;sequences&gt;</span>
&nbsp;&nbsp;2       <span class="hl-tag">&lt;sequence</span> <span class="hl-attribute">id</span>=<span class="hl-value">"..."</span> <span class="hl-attribute">class</span>=<span class="hl-value">"..."</span><span class="hl-tag">&gt;</span>
&nbsp;&nbsp;3          ...
&nbsp;&nbsp;4          sequence properties
&nbsp;&nbsp;5          ...
&nbsp;&nbsp;6       <span class="hl-tag">&lt;/sequence&gt;</span>
&nbsp;&nbsp;7    <span class="hl-tag">&lt;/sequences&gt;</span></pre><p>When specifying the sequence class, unless you enter a fully classified class name, the
      default package <code class="code">org.perfcake.message.sequence</code> is assumed.</p><p>In the following sections you can find a complete description of all
       sequences, that can be used by PerfCake including all of their properties.
     </p></div></div><br class="example-break"><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ug.reference-guide.sequences.PrimitiveNumberSequence"></a>4.6.1.&nbsp;PrimitiveNumberSequence</h3></div></div></div><p>Just an ever increasing number sequence starting at 0. There are no properties available
      but provides high performance. </p><div class="example"><a name="d0e5055"></a><p class="title"><b>Example&nbsp;4.33.&nbsp;An example of PrimitiveNumberSequence configuration</b></p><div class="example-contents"><pre class="programlisting">&nbsp;&nbsp;1    <span class="hl-tag">&lt;sequence</span> <span class="hl-attribute">id</span>=<span class="hl-value">"mySequence"</span> <span class="hl-attribute">class</span>=<span class="hl-value">"PrimitiveNumberSequence"</span><span class="hl-tag"> /&gt;</span></pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ug.reference-guide.sequences.NumberSequence"></a>4.6.2.&nbsp;NumberSequence</h3></div></div></div><p>Long number sequence with the ability to specify boundaries, direction (increasing or
      decreasing) of the counter and the step size.</p><p>Following table shows the properties of <code class="code">NumberSequence</code>: </p><div class="table"><a name="d0e5070"></a><div class="table-contents"><table summary="NumberSequence properties" border="1"><colgroup><col width="28%" align="left" class="property-name"><col width="29%" align="left" class="description"><col width="14%" align="left" class="required"><col width="29%" align="left" class="default-value"></colgroup><thead><tr><th align="left">Property name</th><th align="left">Description</th><th align="left">Required</th><th align="left">Default value</th></tr></thead><tbody><tr><td align="left">start</td><td align="left">Beginning of the sequence counter.</td><td align="left">No</td><td align="left">0</td></tr><tr><td align="left">end</td><td align="left">End of the sequence counter (when reached, the counter can start from
                        <code class="code">start</code> depending on the <code class="code">cycle</code> property). With
                     positive (negative) step, <code class="code">Long.MIN_VALUE</code>
                        (<code class="code">Long.MAX_VALUE</code>) disables checking for reaching the end value. </td><td align="left">No</td><td align="left"><code class="code">Long.MIN_VALUE</code></td></tr><tr><td align="left">step</td><td align="left">The step of the counter, can be either positive or negative.</td><td align="left">No</td><td align="left">1</td></tr><tr><td align="left">cycle</td><td align="left">The counter starts from beginning when reaching end again. Otherwise the
                     counter stays at the <code class="code">end</code> value for the rest of the test.</td><td align="left">No</td><td align="left"><code class="code">true</code></td></tr></tbody></table></div><p class="title"><b>Table&nbsp;4.26.&nbsp;NumberSequence properties</b></p></div><p><br class="table-break"></p><div class="example"><a name="d0e5142"></a><p class="title"><b>Example&nbsp;4.34.&nbsp;An example of NumberSequence configuration</b></p><div class="example-contents"><pre class="programlisting">&nbsp;&nbsp;1    <span class="hl-tag">&lt;sequence</span> <span class="hl-attribute">id</span>=<span class="hl-value">"mySequence"</span> <span class="hl-attribute">class</span>=<span class="hl-value">"NumberSequence"</span><span class="hl-tag">&gt;</span>
&nbsp;&nbsp;2       <span class="hl-tag">&lt;property</span> <span class="hl-attribute">name</span>=<span class="hl-value">"start"</span> <span class="hl-attribute">value</span>=<span class="hl-value">"10"</span><span class="hl-tag"> /&gt;</span>
&nbsp;&nbsp;3       <span class="hl-tag">&lt;property</span> <span class="hl-attribute">name</span>=<span class="hl-value">"end"</span> <span class="hl-attribute">value</span>=<span class="hl-value">"0"</span><span class="hl-tag"> /&gt;</span>
&nbsp;&nbsp;4       <span class="hl-tag">&lt;property</span> <span class="hl-attribute">name</span>=<span class="hl-value">"step"</span> <span class="hl-attribute">value</span>=<span class="hl-value">"-2"</span><span class="hl-tag"> /&gt;</span>
&nbsp;&nbsp;5    <span class="hl-tag">&lt;/sequence&gt;</span></pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ug.reference-guide.sequences.RandomSequence"></a>4.6.3.&nbsp;RandomSequence</h3></div></div></div><p>This sequence generates random numbers in the given range <code class="code">&lt;min, max)</code>. i.e.
      including the <code class="code">min</code> value but not the <code class="code">max</code> value.</p><p>Following table shows the properties of <code class="code">RandomSequence</code>: </p><div class="table"><a name="d0e5166"></a><div class="table-contents"><table summary="RandomSequence properties" border="1"><colgroup><col width="28%" align="left" class="property-name"><col width="29%" align="left" class="description"><col width="14%" align="left" class="required"><col width="29%" align="left" class="default-value"></colgroup><thead><tr><th align="left">Property name</th><th align="left">Description</th><th align="left">Required</th><th align="left">Default value</th></tr></thead><tbody><tr><td align="left">min</td><td align="left">Lower boundary of the interval of random number (inclusive).</td><td align="left">No</td><td align="left">0</td></tr><tr><td align="left">max</td><td align="left">Upper boundary of the interval of random numbers (exclusive). </td><td align="left">No</td><td align="left">100</td></tr></tbody></table></div><p class="title"><b>Table&nbsp;4.27.&nbsp;RandomSequence properties</b></p></div><p><br class="table-break"></p><div class="example"><a name="d0e5203"></a><p class="title"><b>Example&nbsp;4.35.&nbsp;An example of RandomSequence configuration</b></p><div class="example-contents"><pre class="programlisting">&nbsp;&nbsp;1    <span class="hl-tag">&lt;sequence</span> <span class="hl-attribute">id</span>=<span class="hl-value">"mySequence"</span> <span class="hl-attribute">class</span>=<span class="hl-value">"RandomSequence"</span><span class="hl-tag">&gt;</span>
&nbsp;&nbsp;2       <span class="hl-tag">&lt;property</span> <span class="hl-attribute">name</span>=<span class="hl-value">"min"</span> <span class="hl-attribute">value</span>=<span class="hl-value">"10"</span><span class="hl-tag"> /&gt;</span>
&nbsp;&nbsp;3       <span class="hl-tag">&lt;property</span> <span class="hl-attribute">name</span>=<span class="hl-value">"max"</span> <span class="hl-attribute">value</span>=<span class="hl-value">"256"</span><span class="hl-tag"> /&gt;</span>
&nbsp;&nbsp;4    <span class="hl-tag">&lt;/sequence&gt;</span></pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ug.reference-guide.sequences.RandomUuidSequence"></a>4.6.4.&nbsp;RandomUuidSequence</h3></div></div></div><p>This sequence generates random UUID identifiers. It has no configuration parameters. All
      UUIDs have the same format. Sample UUID is
      <code class="code">259f1e8a-816e-4fa0-a5eb-15e2aefe57a6</code>.</p><div class="example"><a name="d0e5216"></a><p class="title"><b>Example&nbsp;4.36.&nbsp;An example of RandomUuidSequence configuration</b></p><div class="example-contents"><pre class="programlisting">&nbsp;&nbsp;1    <span class="hl-tag">&lt;sequence</span> <span class="hl-attribute">id</span>=<span class="hl-value">"mySequence"</span> <span class="hl-attribute">class</span>=<span class="hl-value">"RandomUuidSequence"</span><span class="hl-tag">/&gt;</span></pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ug.reference-guide.sequences.ThreadIdSequence"></a>4.6.5.&nbsp;ThreadIdSequence</h3></div></div></div><p>Returns the value of <code class="code">Thread.currentThread().getId()</code>. No configuration
      properties are available.</p><div class="example"><a name="d0e5229"></a><p class="title"><b>Example&nbsp;4.37.&nbsp;An example of ThreadIdSequence configuration</b></p><div class="example-contents"><pre class="programlisting">&nbsp;&nbsp;1    <span class="hl-tag">&lt;sequence</span> <span class="hl-attribute">id</span>=<span class="hl-value">"mySequence"</span> <span class="hl-attribute">class</span>=<span class="hl-value">"ThreadIdSequence"</span><span class="hl-tag"> /&gt;</span></pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ug.reference-guide.sequences.TimeStampSequence"></a>4.6.6.&nbsp;TimeStampSequence</h3></div></div></div><p> Returns the value of System.currentTimeMillis(). No configuration properties are available. </p><div class="example"><a name="d0e5239"></a><p class="title"><b>Example&nbsp;4.38.&nbsp;An example of TimeStampSequence configuration</b></p><div class="example-contents"><pre class="programlisting">&nbsp;&nbsp;1    <span class="hl-tag">&lt;sequence</span> <span class="hl-attribute">id</span>=<span class="hl-value">"mySequence"</span> <span class="hl-attribute">class</span>=<span class="hl-value">"TimeStampSequence"</span><span class="hl-tag"> /&gt;</span></pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ug.reference-guide.sequences.FileLinesSequence"></a>4.6.7.&nbsp;FileLinesSequence</h3></div></div></div><p>Every single line in a given input file specifies a value of this sequence. Once the end of the file is hit, the sequence starts from beginning.
The whole file is read in the memory in advance. Please make sure the file is of a reasonable size given your expectations and memory limits.</p><p> Following table shows the properties of <code class="code">FileLinesSequence</code>: </p><div class="table"><a name="d0e5254"></a><div class="table-contents"><table summary="FileLinesSequence properties" border="1"><colgroup><col width="28%" align="left" class="property-name"><col width="29%" align="left" class="description"><col width="14%" align="left" class="required"><col width="29%" align="left" class="default-value"></colgroup><thead><tr><th align="left">Property name</th><th align="left">Description</th><th align="left">Required</th><th align="left">Default value</th></tr></thead><tbody><tr><td align="left">fileUrl</td><td align="left">Location of the file with sequence values.</td><td align="left">Yes</td><td align="left">-</td></tr></tbody></table></div><p class="title"><b>Table&nbsp;4.28.&nbsp;FileLinesSequence properties</b></p></div><p><br class="table-break">
   </p><div class="example"><a name="d0e5283"></a><p class="title"><b>Example&nbsp;4.39.&nbsp;An example of FileLinesSequence configuration</b></p><div class="example-contents"><pre class="programlisting">&nbsp;&nbsp;1    <span class="hl-tag">&lt;sequence</span> <span class="hl-attribute">id</span>=<span class="hl-value">"mySequence"</span> <span class="hl-attribute">class</span>=<span class="hl-value">"FileLinesSequence"</span><span class="hl-tag">&gt;</span>
&nbsp;&nbsp;2       <span class="hl-tag">&lt;property</span> <span class="hl-attribute">name</span>=<span class="hl-value">"fileUrl"</span> <span class="hl-attribute">value</span>=<span class="hl-value">"sequence-lines.txt"</span><span class="hl-tag"> /&gt;</span>
&nbsp;&nbsp;3    <span class="hl-tag">&lt;/sequence&gt;</span></pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="ug.reference-guide.sequences.FilesContentSequence"></a>4.6.8.&nbsp;FilesContentSequence</h3></div></div></div><p>Every single line in a given input index file specifies another file with sequence value.
      Once the end of the index file is hit, the sequence starts from beginning. The content of
      individual files is cached by default. Please make sure the files are of a reasonable size
      given your expectations and memory limits.</p><p> Following table shows the properties of <code class="code">FilesContentSequence</code>: </p><div class="table"><a name="d0e5298"></a><div class="table-contents"><table summary="FilesContentSequence properties" border="1"><colgroup><col width="28%" align="left" class="property-name"><col width="29%" align="left" class="description"><col width="14%" align="left" class="required"><col width="29%" align="left" class="default-value"></colgroup><thead><tr><th align="left">Property name</th><th align="left">Description</th><th align="left">Required</th><th align="left">Default value</th></tr></thead><tbody><tr><td align="left">fileUrl</td><td align="left">Location of the index file with references to files with sequence
                     values.</td><td align="left">Yes</td><td align="left">-</td></tr><tr><td align="left">cacheContent</td><td align="left">When true (the default value) the content of individual files is cached in
                     memory.</td><td align="left">No</td><td align="left">true</td></tr></tbody></table></div><p class="title"><b>Table&nbsp;4.29.&nbsp;FilesContentSequence properties</b></p></div><p><br class="table-break">
   </p><div class="example"><a name="d0e5336"></a><p class="title"><b>Example&nbsp;4.40.&nbsp;An example of FilesContentSequence configuration</b></p><div class="example-contents"><pre class="programlisting">&nbsp;&nbsp;1    <span class="hl-tag">&lt;sequence</span> <span class="hl-attribute">id</span>=<span class="hl-value">"mySequence"</span> <span class="hl-attribute">class</span>=<span class="hl-value">"FilesContentSequence"</span><span class="hl-tag">&gt;</span>
&nbsp;&nbsp;2       <span class="hl-tag">&lt;property</span> <span class="hl-attribute">name</span>=<span class="hl-value">"fileUrl"</span> <span class="hl-attribute">value</span>=<span class="hl-value">"sequence-index.txt"</span><span class="hl-tag"> /&gt;</span>
&nbsp;&nbsp;3    <span class="hl-tag">&lt;/sequence&gt;</span></pre></div></div><br class="example-break"></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ug.reference-guide.messages.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ug.reference-guide.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ug.reference-guide.reporting.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">4.5.&nbsp;What - Messages&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="perfcake-user-guide.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;4.7.&nbsp;Reporting</td></tr></table></div></body></html>