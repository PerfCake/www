<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;2.&nbsp;PerfCake Features</title><link rel="stylesheet" type="text/css" href="../css/guides.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="perfcake-user-guide.html" title="PerfCake 7.x"><link rel="up" href="perfcake-user-guide.html" title="PerfCake 7.x"><link rel="prev" href="ug.introduction.first-performance.test.html" title="1.2.&nbsp;Your first performance test"><link rel="next" href="ug.perfcake-features.scenario-definition.html" title="2.2.&nbsp;Performance scenario definition"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;2.&nbsp;PerfCake Features</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ug.introduction.first-performance.test.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ug.perfcake-features.scenario-definition.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="ug.perfcake-features"></a>Chapter&nbsp;2.&nbsp;PerfCake Features</h1></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl class="toc"><dt><span class="section"><a href="ug.perfcake-features.html#architecture">2.1. PerfCake Architecture Overview</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.scenario-definition.html">2.2. Performance scenario definition</a></span></dt><dd><dl><dt><span class="section"><a href="ug.perfcake-features.scenario-definition.html#ug.perfcake-features.scenario-definition.xml">2.2.1. XML scenario</a></span></dt><dd><dl><dt><span class="section"><a href="ug.perfcake-features.scenario-definition.html#d0e509">Scenario structure</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.scenario-definition.html#ug.perfcake-features.scenario-definition.xml.sections">Sections of the scenario</a></span></dt></dl></dd><dt><span class="section"><a href="ug.perfcake-features.scenario-definition.html#ug.perfcake-features.scenario-definition.dsl">2.2.2. DSL scenario</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.scenario-definition.html#ug.perfcake-features.scenario-definition.api">2.2.3. Scenario specified through API</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.scenario-definition.html#ug.perfcake-features.scenario-definition.ide-plugins">2.2.4. IDE plugins</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.scenario-definition.html#ug.perfcake-features.scenario-definition.filtering-properties">2.2.5. Filtering properties</a></span></dt></dl></dd><dt><span class="section"><a href="ug.perfcake-features.configuration.html">2.3. Running PerfCake</a></span></dt><dd><dl><dt><span class="section"><a href="ug.perfcake-features.configuration.html#ug.perfcake-features.configuration.cli">2.3.1. Command line parameters</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.configuration.html#ug.perfcake-features.configuration.maven">2.3.2. Running scenarios from Maven</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.configuration.html#ug.perfcake-features.configuration.logging">2.3.3. Logging</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.configuration.html#ug.perfcake-features.configuration.replay">2.3.4. Results Replay</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.configuration.html#ug.perfcake-features.configuration.debug">2.3.5. Debug Agent</a></span></dt></dl></dd><dt><span class="section"><a href="ug.perfcake-features.handling-issues.html">2.4. What to take care of during execution</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.exit-codes.html">2.5. Exit codes</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html">2.6. Migrating scenarios to latest version</a></span></dt><dd><dl><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.1-to-2">2.6.1. From v1.0 to v2.x</a></span></dt><dd><dl><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.mirating.1-to-2.steps">Migration steps</a></span></dt></dl></dd><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.2-to-3">2.6.2. From v2.x to v3.x</a></span></dt><dd><dl><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.mirating.2-to-3.steps">Migration steps</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.2-to-3.xslt">Scenario conversion using XSLT</a></span></dt></dl></dd><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.3-to-4">2.6.3. From v3.x to v4.x</a></span></dt><dd><dl><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.mirating.3-to-4.steps">Migration steps</a></span></dt></dl></dd><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.4-to-5">2.6.4. From v4.x to v5.x</a></span></dt><dd><dl><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.mirating.4-to-5.steps">Migration steps</a></span></dt><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.mirating.4-to-5.xslt">Scenario conversion using XSLT</a></span></dt></dl></dd><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.5-to-6">2.6.5. From v5.x to v6.x</a></span></dt><dd><dl><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.mirating.5-to-6.steps">Migration steps</a></span></dt></dl></dd><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.6-to-7">2.6.6. From v6.x to v7.x</a></span></dt><dd><dl><dt><span class="section"><a href="ug.perfcake-features.migrating-scenarios.html#ug.perfcake-features.migrating-scenarios.mirating.6-to-7.steps">Migration steps</a></span></dt></dl></dd></dl></dd></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="architecture"></a>2.1.&nbsp;PerfCake Architecture Overview</h2></div></div></div><p>Let's start with a Figure that is worth a thousand words.</p><div class="figure"><a name="overall-architecture"></a><div class="figure-contents"><div><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="100%"><tr><td><object type="image/svg+xml" data="./images/overall-architecture.svg" width="100%"></object></td></tr></table></div></div><p class="title"><b>Figure&nbsp;2.1.&nbsp;Architecture Overview</b></p></div><br class="figure-break"><p>In the <a class="xref" href="ug.perfcake-features.html#overall-architecture" title="Figure&nbsp;2.1.&nbsp;Architecture Overview">Figure&nbsp;2.1, &#8220;Architecture Overview&#8221;</a> , we can see the high level overview of
      PerfCake's architecture. There is always a single
         <code class="code">Generator</code><a class="indexterm" name="d0e368"></a>that works like an
         <span class="emphasis"><em>engine</em></span> in the performance test. The main purpose of the
         <code class="code">Generator</code> is to specify how the messages are generated. The easiest case would
      be to send a message to the target system, wait for the response and measure the response
      time. However, this would not tell us anything about performance of the target system. What is
      more interesting is a load generated in many parallel threads as fast as possible. </p><p>The default generator implementation (<code class="code">DefaultMessageGenerator</code>) has a queue of
      messages ready to be send by a <code class="code">Sender</code>
      <a class="indexterm" name="d0e385"></a> to the target system. More details about <code class="code">Generator</code>
      architecture cen be found in the next section. For now, just remember that
         <code class="code">Generator</code> specifies <span class="emphasis"><em>HOW</em></span> the messages are sent. </p><p>A <code class="code">Sender</code>
      <a class="indexterm" name="d0e402"></a> represents a protocol specific <span class="emphasis"><em>"pump"</em></span> of
      message to a target service or system under test. The protocols can be HTTP, REST, JMS, JDBC,
      SOAP, socket, file etc. The <code class="code">Sender</code> is configured with a specific address for the
      given protocol. So the Sender tells <span class="emphasis"><em>WHERE TO</em></span> send the messages. </p><p>A <code class="code">Message</code>
      <a class="indexterm" name="d0e419"></a> is the content of the smallest unit of load that is sent to the
      target system. So basically it says <span class="emphasis"><em>WHAT</em></span> is sent. </p><p>For the ability to have different <code class="code">Message</code> each time it is sent or to fill in
      some dynamic values, a sophisticated templating engine is used. Each message can be enriched
         (<span class="emphasis"><em>"oiled"</em></span>) with dynamic values. To provide the dynamic values, we can
      use a <code class="code">Sequence</code>
      <a class="indexterm" name="d0e436"></a>. This is a simple interface that returns another value in the
      row each time it is called.</p><p>Optionally, a response to the original request can be received through a separate message
      channel. This is where <code class="code">Receivers</code> come at hand. A <code class="code">Receiver</code> manages an
         <code class="code">"inflow"</code> of responses to the original requests and passes them to a
         <code class="code">Correlator</code>. The <code class="code">Correlator</code> then matches the responses to the
      original requests based on some specific information (i.e. <span class="emphasis"><em>correlation
      ID</em></span>) in both of the messages. A complete request-response cycle is then being
      measured.</p><p>The procedure of sending the messages is carefully monitored by the reporting facility of
      PerfCake. The metrices are implemented using <code class="code">Reporters</code>. A
         <code class="code">Reporter</code><a class="indexterm" name="d0e466"></a> accumulates single measurements of
      individual requests into meaningful values (e.g. throughput, memory usage, response time,
      service time, response time histogram, etc.) and waits for them to be
         <span class="emphasis"><em>"discharged"</em></span> at specified intervals into a <code class="code">Destination</code>.
      The <code class="code">Destination</code><a class="indexterm" name="d0e477"></a> specifies where the measured
      results are stored (e.g. chart, CSV file, log file, database, etc.).</p><p>Finally, there are validators that prove the responses to be valid. Some system can start
      responding very fast under a heavy load, but just with a blunt overload warning. To prevent
      any such failure, a <code class="code">Validator</code>
      <a class="indexterm" name="d0e485"></a> can valide its content.</p><p>More details about individual parts of the application can be found in the later sections. </p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ug.introduction.first-performance.test.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ug.perfcake-features.scenario-definition.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1.2.&nbsp;Your first performance test&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="perfcake-user-guide.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;2.2.&nbsp;Performance scenario definition</td></tr></table></div></body></html>